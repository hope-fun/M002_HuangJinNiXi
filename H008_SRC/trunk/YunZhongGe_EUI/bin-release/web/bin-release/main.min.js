var AssetAdapter=function(){function e(){}var t=(__define,e),i=t.prototype;return i.getAsset=function(e,t,i){function n(n){t.call(i,n,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?n(o):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},n.setProgress=function(e,t){this.textField.text=""},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1,this.isLoginReady=!1,this.isDyDataReady=!1,this.isStDataReady=!1}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",t),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},n.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createLogoScene()},n.createLogoScene=function(){var e=this;this.logoVM=new ViewModel.LogoVM(this,function(){console.log("Test: Logo and loading scene init finish ! ")});var t=egret.Tween.get(this.logoVM.logoGroup);t.to({alpha:1},2e3).call(function(){e.logoVM.loadingBarItem.visible=!0,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceProgress,e),RES.loadGroup("preload")}),this.sendLogin()},n.onResourceLoadComplete=function(e){var t=this;if("preload"==e.groupName){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.isResourceLoadEnd=!0,this.logoVM.loadingBarItem.visible=!1;var i=egret.Tween.get(this.logoVM.logoGroup);i.to({alpha:0},2e3).call(function(){t.removeChild(t.logoVM),Model.Console.log("this.isThemeLoadEnd "+t.isThemeLoadEnd+" this.isResourceLoadEnd "+t.isDyDataReady+" this.isDyDataReady "+t.isDyDataReady+" this.isStDataReady "+t.isStDataReady),t.isThemeLoadEnd&&t.isResourceLoadEnd&&t.isDyDataReady&&t.isStDataReady?t.createScene():Model.Console.log("zhujun: theme or resource load failed !　")})}},n.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},n.onResourceProgress=function(e){"preload"==e.groupName&&this.logoVM.loadingBarItem.setProgress(e.itemsLoaded,e.itemsTotal)},n.sendLogin=function(){var e=this;""===Model.Tools.getURLParam("channel")&&(null==egret.localStorage.getItem("guid")&&egret.localStorage.setItem("guid",Model.Tools.guid()),Model.WebValue.accountM=new Model.AccountModel(egret.localStorage.getItem("guid")),Model.DataEyeService.initDataEye(Model.WebValue.accountM.id,"888"),Model.WebService.userLogin(Model.WebValue.accountM,function(){e.isLoginReady=!0,e.sendDyData(),e.sendStData(),Model.Console.log("zhujun: userLogin interface call back successed !")},function(){Model.WebValue.isDebug&&console.log("zhujun: userlogin interface call back failed ! ")}))},n.sendDyData=function(){var e=this;Model.WebService.updateDyData(function(t){Model.WebValue.dataDyModel=t,e.isDyDataReady=!0,e.isStDataReady&&e.isResourceLoadEnd&&e.createScene(),Model.WebValue.isDebug&&console.log("zhujun: update dy data interface call back successed !　")},function(){Model.Console.log("zhujun: update dy data interface call back failed ! ")})},n.sendStData=function(){var e=this;Model.WebService.updateStData(function(t){Model.WebValue.dataStModel=t,e.isStDataReady=!0,e.isDyDataReady&&e.isResourceLoadEnd&&e.createScene(),Model.Console.log("zhujun: update st data interface call back successed ! ")},function(){Model.Console.log("zhujujn: update st data interface call back failed ! ")})},n.createScene=function(){this.mainGameVM=new ViewModel.MainGameVM(this,function(){Model.Console.log("zhujun: main game vm call back successed ! ")}),this.mainMenuVM=new ViewModel.MainMenuVM(this,function(){Model.Console.log("zhujun: main menu vm call back successed !　")})},t}(eui.UILayer);egret.registerClass(Main,"Main");var Model;!function(e){var t=function(){function e(e,t){if(this.soundKey="",this.position=0,this.loop=1,this.status=0,e){if(console.log("zhujun: key "+e),this.sound=RES.getRes(e),null==this.sound)return void console.log("zhujun: This resource does not exist. ");console.log("zhujun: this.sound  "+this.sound),this.soundChannel=this.sound.play(0,1),this.soundChannel.addEventListener(egret.Event.SOUND_COMPLETE,function(e){console.log(e),null!=t&&t()},this)}}var t=(__define,e),i=t.prototype;return i.loadSound=function(){this.sound=RES.getRes(this.soundKey)},i.loadComplete=function(e){this.status=3;var t="加载完成";console.log(t)},i.onLoadErr=function(e){this.status=4;var t="加载失败"+this.soundKey;console.log(t)},i.setKey=function(e){this.soundKey=e,this.loadSound()},i.looped=function(e){this.position=0,this.status=0},i.getStatus=function(){return this.status},i.setVolume=function(e){1===this.status&&(this.soundChannel.volume=e/100)},i.showPosition=function(){return 1===this.status&&(this.position=this.soundChannel.position),this.position},i.play=function(){return 4===this.status?void this.loadSound():(this.status=1,this.soundChannel&&this.soundChannel.stop(),console.log(this.position),this.soundChannel=this.sound.play(this.position,this.loop),void console.log(this.status))},i.setLoop=function(e){return void 0===e&&(e=1),this.loop=e,0>e?void this.soundChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.looped,this):e},i.pause=function(){return console.log(this.status),1===this.status&&(this.position=this.soundChannel.position,this.soundChannel.stop(),this.status=2),this.position},i.resume=function(){2===this.status&&this.play()},e}();e.AudioService=t,egret.registerClass(t,"Model.AudioService")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.ArtifactData=t,egret.registerClass(t,"Model.ArtifactData")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=__define,n=t,o=n.prototype;return i(o,"getPartnerDyList",function(){return e.WebValue.dataDyModel.friendModelList}),i(o,"getPartnerStList",function(){return e.WebValue.dataStModel.friendSkillList}),t}();e.BosomFriendData=t,egret.registerClass(t,"Model.BosomFriendData")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=__define,n=t,o=n.prototype;return i(o,"getCurrentDps",function(){return e.Console.log("TODO : local value current dps is not calculate ! "),"1"}),i(o,"getTapDps",function(){var t=e.WebValue.dataDyModel.playerModel.clickDamageMagnitude,i=e.MainInfoLocalService.getMagnitudeListById(t);return String(e.WebValue.dataDyModel.playerModel.clickDamage+i)}),i(o,"getFriendDps",function(){var t=e.WebValue.dataDyModel.playerModel.friendDamageMagnitude,i=e.MainInfoLocalService.getMagnitudeListById(t);return String(e.WebValue.dataDyModel.playerModel.friendDamage+i)}),i(o,"getSkillDyList",function(){return e.WebValue.dataDyModel.skillModelList}),i(o,"getSkillStList",function(){return e.WebValue.dataStModel.skillList}),t}();e.MainInfoData=t,egret.registerClass(t,"Model.MainInfoData")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(e,t){this.currentDps=0,this.currentDpsUnit="0",this.dy=e,this.st=t}var t=__define,i=e,n=i.prototype;return t(n,"TapDamageBase",function(){return this.tapDamageBase=Math.pow(parseInt(this.st.clickHurtRatio),this.dy.level),this.tapDamageBase}),t(n,"UpgradeCost",function(){return this.upgradeCost=Math.pow(parseInt(this.st.leadCostRatio),this.dy.level),this.upgradeCost}),e}();e.PlayerData=t,egret.registerClass(t,"Model.PlayerData")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(e,t){this.dy=e,this.st=t}var i=__define,n=t,o=n.prototype;return i(o,"SkillEffectValue",function(){return this.skillEffectValue=this.st.skillEffectValue+this.st.skillEffectAdd*(this.dy.level-1),this.skillEffectValue}),i(o,"SkillCost",function(){var t=e.MainInfoLocalService.toTenConversion(this.st.upgradeBaseCost,this.st.upgradeCostMultiple);return this.dy?this.skillCost=t*Math.pow(this.st.upgradeCostMultiple,this.dy.level)*Math.pow(10,3*this.dy.level):this.skillCost=t*Math.pow(this.st.upgradeCostMultiple,0)*Math.pow(10,0),this.skillCost}),t}();e.PlayerSkillData=t,egret.registerClass(t,"Model.PlayerSkillData")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=__define,n=t,o=n.prototype;return i(o,"getCurrentDps",function(){return e.MainInfoLocalService.mainInfoData.getCurrentDps}),i(o,"getPlayerData",function(){return e.Console.log("zhujun: getPlayerData "+JSON.stringify(e.PlayerLocalService.getPlayerData())),e.PlayerLocalService.getPlayerData()}),i(o,"getSkillDataList",function(){return e.Console.log("zhujun: getSkillDataList "+JSON.stringify(e.PlayerSkillLocalService.getPlayerSkillList())),e.PlayerSkillLocalService.getPlayerSkillList()}),t}();e.ProtagonistData=t,egret.registerClass(t,"Model.ProtagonistData")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(e){this.id=e}var t=(__define,e);t.prototype;return e}();e.AccountModel=t,egret.registerClass(t,"Model.AccountModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.AchievementDyModel=t,egret.registerClass(t,"Model.AchievementDyModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.DataDyModel=t,egret.registerClass(t,"Model.DataDyModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.DataStModel=t,egret.registerClass(t,"Model.DataStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.FriendDyModel=t,egret.registerClass(t,"Model.FriendDyModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.FriendStModel=t,egret.registerClass(t,"Model.FriendStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.MagicWeaponDyModel=t,egret.registerClass(t,"Model.MagicWeaponDyModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.MagicWeaponStModel=t,egret.registerClass(t,"Model.MagicWeaponStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.MagnitudeStModel=t,egret.registerClass(t,"Model.MagnitudeStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.MonsterStModel=t,egret.registerClass(t,"Model.MonsterStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.PlayerDyModel=t,egret.registerClass(t,"Model.PlayerDyModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.SceneDyModel=t,egret.registerClass(t,"Model.SceneDyModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.SceneStModel=t,egret.registerClass(t,"Model.SceneStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.SkillDyModel=t,egret.registerClass(t,"Model.SkillDyModel")}(Model||(Model={}));var Model;!function(e){!function(e){e[e.SKILL_EFFECT_CLICK_MULTIPLE=0]="SKILL_EFFECT_CLICK_MULTIPLE",e[e.SKILL_EFFECT_SHADOW_ATTACK=1]="SKILL_EFFECT_SHADOW_ATTACK",e[e.SKILL_EFFECT_CRIT_PROBABILITY=2]="SKILL_EFFECT_CRIT_PROBABILITY",e[e.SKILL_EFFECTL_FRIEND_ACCELERATE=3]="SKILL_EFFECTL_FRIEND_ACCELERATE",e[e.SKILL_EFFECT_CLICK_INCREASE=4]="SKILL_EFFECT_CLICK_INCREASE",e[e.SKILL_EFFECT_CLICK_COIN=5]="SKILL_EFFECT_CLICK_COIN"}(e.PlayerSkillType||(e.PlayerSkillType={}));var t=(e.PlayerSkillType,function(){function e(){}var t=(__define,e);t.prototype;return e}());e.SkillStModel=t,egret.registerClass(t,"Model.SkillStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.SystemConfigStModel=t,egret.registerClass(t,"Model.SystemConfigStModel")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.getFriendAllDps=function(){return t.friendAllDps},t.setFriendAllDps=function(t){return void 0===t&&(t=null),t=null==t?e.WebValue.dataDyModel.friendModelList:t,1},t.friendAllDps=0,t}();e.FriendLocalService=t,egret.registerClass(t,"Model.FriendLocalService")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.bosomFriendData=new e.BosomFriendData,t.artifactData=new e.ArtifactData,t}();e.LocalValue=t,egret.registerClass(t,"Model.LocalValue")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.sumCurrentDps=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t]},t.setCurrentDps=function(e){},t.getCharData=function(){},t.getCharItemData=function(t){var i=[];new e.PlayerDyModel;return i},t.SmallBtnShare=function(e,t){var i=[],n=Number(e[0])*t,o=Number(e[1]);return n>=1e3&&(n/=1e3,o+=1),i.push(n.toFixed(2)),i.push(o+""),i},t.skillSpend=function(e){},t.stroeSyData=function(t){if(0==e.WebValue.dataDyModel.skillModelList.length)e.WebValue.dataDyModel.skillModelList.push(t);else{for(var i=0;i<e.WebValue.dataDyModel.skillModelList.length;i++)if(e.WebValue.dataDyModel.skillModelList[i].skillId==t.skillId)return void(e.WebValue.dataDyModel.skillModelList[i].level=t.level);e.WebValue.dataDyModel.skillModelList.push(t)}},t.getFriendItemData=function(t){for(var i=[],n=(new e.PlayerDyModel,t.getPartnerStList),o=t.getPartnerDyList,r=0;r<n.length;r++){var a=new ViewModel.friendItemData;o[r]&&(a.level=o[r].level,a.partnerId=o[r].friendId),a.partnerId=n[r].id,a.name=n[r].name,a.icon=n[r].icon,a.type=n[r].type,a.recruitMoneyType=n[r].recruitMoneyType,a.recruitCost=n[r].recruitCost,a.recruitCostMagnitude=n[r].recruitCostMagnitude,a.upgradeBaseCost=n[r].upgradeBaseCost,a.baseCostMagnitude=n[r].baseCostMagnitude,a.upgradeCostMultiple=n[r].upgradeCostMultiple,a.baseDamage=n[r].baseDamage,a.baseDamageMagnitude=n[r].baseDamageMagnitude,a.upgradeDamageMultiple=n[r].upgradeDamageMultiple,a.firstLayerType=n[r].firstLayerType,a.firstLayerValue=n[r].firstLayerValue,a.secondLayerType=n[r].secondLayerType,a.secondLayerValue=n[r].secondLayerValue,a.thirdLayerType=n[r].thirdLayerType,a.thirdLayerValue=n[r].thirdLayerValue,a.fourthLayerType=n[r].fourthLayerType,a.fourthLayerValue=n[r].fourthLayerValue,a.fifthLayerType=n[r].fifthLayerType,a.fifthLayerValue=n[r].fifthLayerValue,a.sixthLayerType=n[r].sixthLayerType,a.sixthLayerValue=n[r].sixthLayerValue,a.seventhLayerType=n[r].seventhLayerType,a.seventhLayerValue=n[r].seventhLayerValue,i.push(a)}return i},t.UpdataFdSFormula=function(e,t,i,n){var o=[];return n=0==n||void 0==n?1:n,o},t.UpdataFdBtnFormula=function(e,t,i,n){var o=[];return o},t.skillSpendYB=function(t){e.WebValue.dataDyModel.playerModel.treasure;e.WebValue.dataDyModel.playerModel.treasure-=t},t.compareMoney=function(e,t,i,n,o){void 0===o&&(o=1)},t.unitConversion=function(e){for(var i=1;e>=1e3;)e/=1e3,i+=1;var n=String(e.toFixed(2)+t.getMagnitudeListById(i.toString()));return n},t.toTenConversion=function(e,t){var i=e*Math.pow(1e3,t-1);return i},t.getMagnitudeListById=function(t){if(void 0==t)return void e.Console.log("zhujun: unit id is undefined ! "+t);var i=Enumerable.From(e.WebValue.dataStModel.magnitudeList),n=i.Where(function(e){return e.id==t}).First(),o=n.magnitude;return"0"==o&&(o=""),o},t.mainInfoData=new e.MainInfoData,t}();e.MainInfoLocalService=t,egret.registerClass(t,"Model.MainInfoLocalService")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.getPlayerData=function(){var t=new e.PlayerData(e.WebValue.dataDyModel.playerModel,e.WebValue.dataStModel.sysConfigModel);return t},t.playerUpgradeCost=function(t){var i=Math.pow(parseInt(e.WebValue.dataStModel.sysConfigModel.leadCostRatio),t);return i},t.deltaClickDamageBase=function(e){var i=t.clickDamageBase(e+1)-t.clickDamageBase(e);return i},t.clickDamageBase=function(t){var i=Math.pow(parseInt(e.WebValue.dataStModel.sysConfigModel.clickHurtRatio),t);return i},t.playerClickDamage=function(e){var t;return t},t}();e.PlayerLocalService=t,egret.registerClass(t,"Model.PlayerLocalService")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.getPlayerSkillList=function(){for(var t=[],i=0;i<e.WebValue.dataStModel.skillList.length;i++){e.WebValue.dataDyModel.skillModelList.length<=i&&(e.WebValue.dataDyModel.skillModelList[i]=null);var n=new e.PlayerSkillData(e.WebValue.dataDyModel.skillModelList[i],e.WebValue.dataStModel.skillList[i]);t.push(n)}return t},t.skillEffect=function(e,t,i){var n=e+t*(i-1);return n},t.skillCost=function(e,t,i,n){var o=0;o=void 0==i||0==i?e:e*Math.pow(t,i-1)*Math.pow(10,3*i);var r=[],a=Number(n);for(console.log("cai_haotian first costNum"+o);o>=1e3;)o/=1e3,a+=1;return r.push(o.toFixed(2)),r.push(a+""),console.log("cai_haotian zhujue money"+r),r},t}();e.PlayerSkillLocalService=t,egret.registerClass(t,"Model.PlayerSkillLocalService")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.protagonistData=new e.ProtagonistData,t}();e.ProtagonistLocalService=t,egret.registerClass(t,"Model.ProtagonistLocalService")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(t,i,n){var o=this;void 0===i&&(i=!1),void 0===n&&(n=!1),this.successCallBack=null,this.failedCallBack=null,this.startService=null;var r=new e.WebServiceToolKit;r.isShowFireWind=i,r.wsValue=t,r.successCallBack=function(e){o.onSuccess(e)},r.failedCallBack=function(e){o.onFailed(e)},e.WebValue.isDebug&&console.log("this.toolKit.failedCallBack ",r.failedCallBack),e.WebValue.isDebug&&console.log("zhujun: this.toolKit.wsValue "+r.wsValue),this.startService=function(){r.startService()}}var i=__define,n=t,o=n.prototype;return i(o,"SelectedLoginAddress",function(){return e.WebValue.isDebug&&console.log("SelectedLoginAddress: this.baseServerUrl is "+t.baseServerUrl+" this.selectedLoginAddress "+t.selectedLoginAddress),t.baseServerUrl+t.selectedLoginAddress},function(e){t.selectedLoginAddress=e}),i(o,"SelectedServerAddress",function(){return e.WebValue.isDebug&&console.log("SelectedLoginAddress: this.baseServerUrl is ",t.baseServerUrl," this.selectedServerAddress "+t.selectedServerAddress),t.baseServerUrl+t.selectedServerAddress},function(e){t.selectedServerAddress=e}),i(o,"StartService",function(){return this.startService}),o.onSuccess=function(t){e.WebValue.isDebug&&console.log("zhujun: WebServiceBase onSuccess ! ")},o.onFailed=function(t){null!=this.failedCallBack?this.failedCallBack(t):e.WebValue.isDebug&&console.log("Failed call back is null, set it first ! ")},t.baseServerUrl="http://120.26.53.158:8082/",t.selectedLoginAddress="h008-login-service/mobiapi/1/",t.selectedServerAddress="h008-logical-service/mobiapi/1/",t}();e.WebServiceBase=t,egret.registerClass(t,"Model.WebServiceBase");var i=function(t){function i(i,n,o,r,a){void 0===n&&(n=null),void 0===o&&(o=e.WebServiceType.Post),void 0===r&&(r=!1),void 0===a&&(a=!1),t.call(this,new e.WebServiceValue(i,n,!0,o),r,a)}__extends(i,t);var n=(__define,i),o=n.prototype;return o.onSuccess=function(i){e.WebValue.isDebug&&console.log("zhujun: WebServiceNonResponseBase onSuccess ! "),t.prototype.onSuccess.call(this,i),this.successCallBack(!0)},i}(t);e.WebServiceNonResponseBase=i,egret.registerClass(i,"Model.WebServiceNonResponseBase");var n=function(t){function i(i,n,o,r,a){void 0===n&&(n=null),void 0===o&&(o=e.WebServiceType.Post),void 0===r&&(r=!1),void 0===a&&(a=!1),e.Console.log("zhujun:   _paramList : any = null "+n),t.call(this,new e.WebServiceValue(i,n,null==n?!1:!0,o),r,a)}__extends(i,t);var n=(__define,i),o=n.prototype;return o.onSuccess=function(i){e.WebValue.isDebug&&console.log("zhujun: WebServiceResponseBase onSuccess ! "),t.prototype.onSuccess.call(this,i);var n=JSON.parse(i);this.successCallBack(n)},i}(t);e.WebServiceResponseBase=n,egret.registerClass(n,"Model.WebServiceResponseBase")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var a=(__define,t);a.prototype;return t.userLogin=function(t,n,o){void 0===n&&(n=function(e){}),void 0===o&&(o=function(e){}),e.WebValue.isDebug&&console.log("userLogin account is ",t);var r=new i(t);r.successCallBack=n,r.failedCallBack=o,r.StartService()},t.updateDyData=function(e,t){void 0===e&&(e=function(e){}),void 0===t&&(t=function(e){});var i=new n;i.successCallBack=e,i.failedCallBack=t,i.StartService()},t.updateStData=function(e,t){void 0===e&&(e=function(e){}),void 0===t&&(t=function(e){});var i=new o;i.successCallBack=e,i.failedCallBack=t,i.StartService()},t.commitData=function(e,t,i){void 0===t&&(t=function(e){}),void 0===i&&(i=function(e){});var n=new r(e);n.successCallBack=t,n.failedCallBack=i,n.StartService()},t}();e.WebService=t,egret.registerClass(t,"Model.WebService",["Model.IWebService"]);var i=function(e){function t(t){e.call(this,String(this.SelectedLoginAddress+"user/login/"),t)}__extends(t,e);var i=(__define,t);i.prototype;return t}(e.WebServiceNonResponseBase);e.UserLogin=i,egret.registerClass(i,"Model.UserLogin");var n=function(e){function t(){e.call(this,String(this.SelectedServerAddress+"update/dynamicData/"),{})}__extends(t,e);var i=(__define,t);i.prototype;return t}(e.WebServiceResponseBase);e.UpdateDyData=n,egret.registerClass(n,"Model.UpdateDyData");var o=function(e){function t(){e.call(this,String(this.SelectedServerAddress+"update/staticData/"),{})}__extends(t,e);var i=(__define,t);i.prototype;return t}(e.WebServiceResponseBase);e.UpdateStData=o,egret.registerClass(o,"Model.UpdateStData");var r=function(e){function t(t){e.call(this,String(this.SelectedServerAddress+"commit/data/"),t)}__extends(t,e);var i=(__define,t);i.prototype;return t}(e.WebServiceNonResponseBase);e.CommitData=r,egret.registerClass(r,"Model.CommitData")}(Model||(Model={}));var Model;!function(e){!function(e){e[e.SYSTEM_ERROR=0]="SYSTEM_ERROR",e[e.SERVICE_TIMEOUT=1]="SERVICE_TIMEOUT",e[e.USER_NOT_EXISTS=2]="USER_NOT_EXISTS",e[e.URL_ERROR=3]="URL_ERROR",e[e.ERROR=4]="ERROR",e[e.UNKNOWN=0]="UNKNOWN",e[e.NO_ACTION=1]="NO_ACTION",e[e.NOT_MATCH=2]="NOT_MATCH",e[e.FAILED=5]="FAILED"}(e.WebServiceErrorCode||(e.WebServiceErrorCode={}));var t=e.WebServiceErrorCode;!function(e){e[e.Get=0]="Get",e[e.Post=1]="Post"}(e.WebServiceType||(e.WebServiceType={}));var i=(e.WebServiceType,function(){function i(){this.customTimeOut=2e4,this.successCallBack=null,this.onProgressCallBack=null,this.wsValue=null,this.isShowFireWind=!1,this.isDone=!1}var n=__define,o=i,r=o.prototype;return n(r,"UserToken",function(){if(""!=e.WebValue.webServiceHeader)return e.WebValue.webServiceHeader;throw"Get some error hare ! "}),r.changeHeader=function(t){""!=e.WebValue.webServiceHeader&&e.WebValue.webServiceHeader!=t?e.WebValue.webServiceHeader=t:console.log("zhujun: webServerHeader is no change ! ")},r.startService=function(){return e.Console.log("zhujun: start service "+JSON.stringify(this.wsValue)),null==this.wsValue||null==this.successCallBack||null==this.failedCallBack?void(e.WebValue.isDebug&&console.log("Service value is null, cant start service ! ")):(this.wsValue.Type==egret.HttpMethod.POST?this.wsValue.isJson?this.postWebServiceWithJson(this.wsValue.baseURL,JSON.stringify(this.wsValue.paramList)):this.postWebServiceWithoutJson(this.wsValue.baseURL,this.wsValue.paramList):this.getWebService(""),void(i.onRequestSend&&this.isShowFireWind&&i.onRequestSend()))},r.getWebService=function(e){var t=new egret.HttpRequest;t.open(e,this.wsValue.Type),this.CallService(t)},r.postWebServiceWithJson=function(e,t){var i=new egret.HttpRequest;i.open(e,this.wsValue.Type),this.CallService(i,t)},r.postWebServiceWithoutJson=function(e,t){var i=new egret.HttpRequest;i.open(e,this.wsValue.Type),this.CallService(i,t)},r.CallService=function(t,n){if(void 0===n&&(n=null),!e.WebValue.isWebService)return this.successCallBack(t.response),void e.Console.log("zhujun: cant send web service , immediate return success ! ");t.responseType=egret.HttpResponseType.TEXT,e.Console.log("zhujun: this.webServiceHeader "+e.WebValue.webServiceHeader),t.setRequestHeader("USER-TOKEN",e.WebValue.webServiceHeader),t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this),t.addEventListener(egret.ProgressEvent.PROGRESS,this.onProgress,this),null==n?t.send(!0):t.send(n);egret.getTimer();i.onResponseRecived&&this.isShowFireWind&&i.onResponseRecived},r.onComplete=function(e){this.isDone=!0;var t=e.currentTarget;console.log("back token ",t.getResponseHeader("USER-TOKEN")),this.changeHeader(t.getResponseHeader("USER-TOKEN")),console.log("post data : ",t.response),console.log("back token ",t.getResponseHeader("USER-TOKEN")),this.successCallBack&&this.successCallBack(t.response)},r.onIOError=function(e){this.isDone=!0,console.log("post error : "+e),null!=this.failedCallBack&&this.failedCallBack(t.SYSTEM_ERROR)},r.onProgress=function(e){this.isDone=!0,console.log("post progress : "+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%"),null!=this.onProgressCallBack&&this.onProgressCallBack(e)},r.clearListenerEvent=function(e){e.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),e.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this),e.removeEventListener(egret.ProgressEvent.PROGRESS,this.onProgress,this)},i.onRequestSend=null,i.onResponseRecived=null,i}());e.WebServiceToolKit=i,egret.registerClass(i,"Model.WebServiceToolKit")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=e.WebServiceType.Post),this.type=e.WebServiceType.Post,e.WebValue.isDebug&&console.log("zhujun: baseURL "+t),this.type=o,this.isJson=n,this.baseURL=t,this.paramList=i}var i=__define,n=t,o=n.prototype;return i(o,"Type",function(){return this.type==e.WebServiceType.Post?egret.HttpMethod.POST:egret.HttpMethod.GET}),t}();e.WebServiceValue=t,egret.registerClass(t,"Model.WebServiceValue",["Model.IWebServiceValue"])}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.isDebug=!0,t.isWebService=!0,t.webServiceHeader="H008",t.appVer="v1.0.0",t.appName="云中歌点击版",t.accountM=new e.AccountModel,t.dataDyModel=new e.DataDyModel,t.dataStModel=new e.DataStModel,t}();e.WebValue=t,egret.registerClass(t,"Model.WebValue")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.log=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];e.WebValue.isDebug&&console.log(t,0!=i.length?i:"")},t}();e.Console=t,egret.registerClass(t,"Model.Console")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.addArmatureToFactory=function(e){var t;try{t=new dragonBones.EgretFactory;var i=RES.getRes(e+"/"+e+".json"),n=RES.getRes(e+"/texture.json"),o=RES.getRes(e+"/texture.png");t.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(i)),t.addTextureAtlas(new dragonBones.EgretTextureAtlas(o,n))}catch(r){console.error("DragonBones Factory Get Resource or Parse Data Error.")}return t},e.buildArmature=function(e,t){var i;try{i=e.buildArmature(t)}catch(n){console.error("DragonBones Factory Build Armature Error.")}return i},e.play=function(e,t,i,n,o){try{t.display.x=n,t.display.y=o,e.addChild(t.display),dragonBones.WorldClock.clock.add(t),t.animation.gotoAndPlay(i),egret.Ticker.getInstance().register(function(e){dragonBones.WorldClock.clock.advanceTime(.01)},this)}catch(r){console.error("DragonBones Factory Play Error.")}},e}();e.DragonBones=t,egret.registerClass(t,"Model.DragonBones")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e),i=t.prototype;return i.Set=function(e,t){this[e]=t},i.Get=function(e){return this[e]},i.Contains=function(e){return null==this.Get(e)?!1:!0},i.Remove=function(e){delete this[e]},i.Clear=function(){},e}();e.HashMap=t,egret.registerClass(t,"Model.HashMap")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.lerp=function(e,t,i){return i=0>i?0:i,i=i>1?1:i,e+(t-e)*i},e.clamp=function(e,t,i){return t>e?t:e>i?i:e},e.random=function(e,t,i){void 0===i&&(i=!0);var n=Math.random()*(t-e)+e;return i?Math.floor(n):n},e}();e.Mathf=t,egret.registerClass(t,"Model.Mathf")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){this.hexcase=0,this.b64pad=""}var t=(__define,e),i=t.prototype;return i.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},i.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},i.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},i.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},i.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},i.any_hmac_md5=function(e,t,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),i)},i.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},i.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},i.rstr_hmac_md5=function(e,t){var i=this.rstr2binl(e);i.length>16&&(i=this.binl_md5(i,8*e.length));for(var n=Array(16),o=Array(16),r=0;16>r;r++)n[r]=909522486^i[r],o[r]=1549556828^i[r];var a=this.binl_md5(n.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(o.concat(a),640))},i.rstr2hex=function(e){try{this.hexcase}catch(t){this.hexcase=0}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",o="",r=0;r<e.length;r++)i=e.charCodeAt(r),o+=n.charAt(i>>>4&15)+n.charAt(15&i);return o},i.rstr2b64=function(e){try{this.b64pad}catch(t){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",o=e.length,r=0;o>r;r+=3)for(var a=e.charCodeAt(r)<<16|(o>r+1?e.charCodeAt(r+1)<<8:0)|(o>r+2?e.charCodeAt(r+2):0),s=0;4>s;s++)n+=8*r+6*s>8*e.length?this.b64pad:i.charAt(a>>>6*(3-s)&63);return n},i.rstr2any=function(e,t){var i,n,o,r,a,s=t.length,l=Array(Math.ceil(e.length/2));for(i=0;i<l.length;i++)l[i]=e.charCodeAt(2*i)<<8|e.charCodeAt(2*i+1);var u=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),c=Array(u);for(n=0;u>n;n++){for(a=Array(),r=0,i=0;i<l.length;i++)r=(r<<16)+l[i],o=Math.floor(r/s),r-=o*s,(a.length>0||o>0)&&(a[a.length]=o);
c[n]=r,l=a}var d="";for(i=c.length-1;i>=0;i--)d+=t.charAt(c[i]);return d},i.str2rstr_utf8=function(e){for(var t,i,n="",o=-1;++o<e.length;)t=e.charCodeAt(o),i=o+1<e.length?e.charCodeAt(o+1):0,t>=55296&&56319>=t&&i>=56320&&57343>=i&&(t=65536+((1023&t)<<10)+(1023&i),o++),127>=t?n+=String.fromCharCode(t):2047>=t?n+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n},i.str2rstr_utf16le=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(255&e.charCodeAt(i),e.charCodeAt(i)>>>8&255);return t},i.str2rstr_utf16be=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e.charCodeAt(i)>>>8&255,255&e.charCodeAt(i));return t},i.rstr2binl=function(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t},i.binl2rstr=function(e){for(var t="",i=0;i<32*e.length;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t},i.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,n=-271733879,o=-1732584194,r=271733878,a=0;a<e.length;a+=16){var s=i,l=n,u=o,c=r;i=this.md5_ff(i,n,o,r,e[a+0],7,-680876936),r=this.md5_ff(r,i,n,o,e[a+1],12,-389564586),o=this.md5_ff(o,r,i,n,e[a+2],17,606105819),n=this.md5_ff(n,o,r,i,e[a+3],22,-1044525330),i=this.md5_ff(i,n,o,r,e[a+4],7,-176418897),r=this.md5_ff(r,i,n,o,e[a+5],12,1200080426),o=this.md5_ff(o,r,i,n,e[a+6],17,-1473231341),n=this.md5_ff(n,o,r,i,e[a+7],22,-45705983),i=this.md5_ff(i,n,o,r,e[a+8],7,1770035416),r=this.md5_ff(r,i,n,o,e[a+9],12,-1958414417),o=this.md5_ff(o,r,i,n,e[a+10],17,-42063),n=this.md5_ff(n,o,r,i,e[a+11],22,-1990404162),i=this.md5_ff(i,n,o,r,e[a+12],7,1804603682),r=this.md5_ff(r,i,n,o,e[a+13],12,-40341101),o=this.md5_ff(o,r,i,n,e[a+14],17,-1502002290),n=this.md5_ff(n,o,r,i,e[a+15],22,1236535329),i=this.md5_gg(i,n,o,r,e[a+1],5,-165796510),r=this.md5_gg(r,i,n,o,e[a+6],9,-1069501632),o=this.md5_gg(o,r,i,n,e[a+11],14,643717713),n=this.md5_gg(n,o,r,i,e[a+0],20,-373897302),i=this.md5_gg(i,n,o,r,e[a+5],5,-701558691),r=this.md5_gg(r,i,n,o,e[a+10],9,38016083),o=this.md5_gg(o,r,i,n,e[a+15],14,-660478335),n=this.md5_gg(n,o,r,i,e[a+4],20,-405537848),i=this.md5_gg(i,n,o,r,e[a+9],5,568446438),r=this.md5_gg(r,i,n,o,e[a+14],9,-1019803690),o=this.md5_gg(o,r,i,n,e[a+3],14,-187363961),n=this.md5_gg(n,o,r,i,e[a+8],20,1163531501),i=this.md5_gg(i,n,o,r,e[a+13],5,-1444681467),r=this.md5_gg(r,i,n,o,e[a+2],9,-51403784),o=this.md5_gg(o,r,i,n,e[a+7],14,1735328473),n=this.md5_gg(n,o,r,i,e[a+12],20,-1926607734),i=this.md5_hh(i,n,o,r,e[a+5],4,-378558),r=this.md5_hh(r,i,n,o,e[a+8],11,-2022574463),o=this.md5_hh(o,r,i,n,e[a+11],16,1839030562),n=this.md5_hh(n,o,r,i,e[a+14],23,-35309556),i=this.md5_hh(i,n,o,r,e[a+1],4,-1530992060),r=this.md5_hh(r,i,n,o,e[a+4],11,1272893353),o=this.md5_hh(o,r,i,n,e[a+7],16,-155497632),n=this.md5_hh(n,o,r,i,e[a+10],23,-1094730640),i=this.md5_hh(i,n,o,r,e[a+13],4,681279174),r=this.md5_hh(r,i,n,o,e[a+0],11,-358537222),o=this.md5_hh(o,r,i,n,e[a+3],16,-722521979),n=this.md5_hh(n,o,r,i,e[a+6],23,76029189),i=this.md5_hh(i,n,o,r,e[a+9],4,-640364487),r=this.md5_hh(r,i,n,o,e[a+12],11,-421815835),o=this.md5_hh(o,r,i,n,e[a+15],16,530742520),n=this.md5_hh(n,o,r,i,e[a+2],23,-995338651),i=this.md5_ii(i,n,o,r,e[a+0],6,-198630844),r=this.md5_ii(r,i,n,o,e[a+7],10,1126891415),o=this.md5_ii(o,r,i,n,e[a+14],15,-1416354905),n=this.md5_ii(n,o,r,i,e[a+5],21,-57434055),i=this.md5_ii(i,n,o,r,e[a+12],6,1700485571),r=this.md5_ii(r,i,n,o,e[a+3],10,-1894986606),o=this.md5_ii(o,r,i,n,e[a+10],15,-1051523),n=this.md5_ii(n,o,r,i,e[a+1],21,-2054922799),i=this.md5_ii(i,n,o,r,e[a+8],6,1873313359),r=this.md5_ii(r,i,n,o,e[a+15],10,-30611744),o=this.md5_ii(o,r,i,n,e[a+6],15,-1560198380),n=this.md5_ii(n,o,r,i,e[a+13],21,1309151649),i=this.md5_ii(i,n,o,r,e[a+4],6,-145523070),r=this.md5_ii(r,i,n,o,e[a+11],10,-1120210379),o=this.md5_ii(o,r,i,n,e[a+2],15,718787259),n=this.md5_ii(n,o,r,i,e[a+9],21,-343485551),i=this.safe_add(i,s),n=this.safe_add(n,l),o=this.safe_add(o,u),r=this.safe_add(r,c)}return[i,n,o,r]},i.md5_cmn=function(e,t,i,n,o,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(n,r)),o),i)},i.md5_ff=function(e,t,i,n,o,r,a){return this.md5_cmn(t&i|~t&n,e,t,o,r,a)},i.md5_gg=function(e,t,i,n,o,r,a){return this.md5_cmn(t&n|i&~n,e,t,o,r,a)},i.md5_hh=function(e,t,i,n,o,r,a){return this.md5_cmn(t^i^n,e,t,o,r,a)},i.md5_ii=function(e,t,i,n,o,r,a){return this.md5_cmn(i^(t|~n),e,t,o,r,a)},i.safe_add=function(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i},i.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();e.MD5=t,egret.registerClass(t,"Model.MD5")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(e,t,i){this.i=0,this.image=e,this.rate=i,this.list=t}var t=(__define,e),i=t.prototype;return i.play=function(e){var t=this;egret.setTimeout(function(){t.image.source=t.list[t.i],t.i++,t.i<t.list.length?t.play(e):(t.image.source=null,null!=e&&e())},this,1e3/this.rate)},e}();e.MovieClip=t,egret.registerClass(t,"Model.MovieClip")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(e,t,i,n,o){this.version="1.2",this.msecPerSecond=1e3,this.msecPerMinute=6e4,this.msecPerHour=36e5,this.msecPerDay=864e5,this.msecs=0,this.isTimeSpan=!0,this.isNumeric(o)&&(this.msecs+=o*this.msecPerDay),this.isNumeric(n)&&(this.msecs+=n*this.msecPerHour),this.isNumeric(i)&&(this.msecs+=i*this.msecPerMinute),this.isNumeric(t)&&(this.msecs+=t*this.msecPerSecond),this.isNumeric(e)&&(this.msecs+=e)}var t=(__define,e),i=t.prototype;return i.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i.addMilliseconds=function(e){this.isNumeric(e)&&(this.msecs+=e)},i.addSeconds=function(e){this.isNumeric(e)&&(this.msecs+=e*this.msecPerSecond)},i.addMinutes=function(e){this.isNumeric(e)&&(this.msecs+=e*this.msecPerMinute)},i.addHours=function(e){this.isNumeric(e)&&(this.msecs+=e*this.msecPerHour)},i.addDays=function(e){this.isNumeric(e)&&(this.msecs+=e*this.msecPerDay)},i.subtractMilliseconds=function(e){this.isNumeric(e)&&(this.msecs-=e)},i.subtractSeconds=function(e){this.isNumeric(e)&&(this.msecs-=e*this.msecPerSecond)},i.subtractMinutes=function(e){this.isNumeric(e)&&(this.msecs-=e*this.msecPerMinute)},i.subtractHours=function(e){this.isNumeric(e)&&(this.msecs-=e*this.msecPerDay)},i.subtractDays=function(e){this.isNumeric(e)&&(this.msecs-=e*this.msecPerDay)},i.add=function(e){e.isTimeSpan&&(this.msecs+=e.totalMilliseconds())},i.subtract=function(e){e.isTimeSpan&&(this.msecs+=e.totalMilliseconds())},i.equals=function(e){e.isTimeSpan&&this.msecs===e.totalMilliseconds()},i.totalMilliseconds=function(e){var t=this.msecs;return e===!0&&(t=Math.floor(t)),t},i.totalSeconds=function(e){var t=this.msecs/this.msecPerSecond;return e===!0&&(t=Math.floor(t)),t},i.totalMinutes=function(e){var t=this.msecs/this.msecPerMinute;return e===!0&&(t=Math.floor(t)),t},i.totalHours=function(e){var t=this.msecs/this.msecPerHour;return e===!0&&(t=Math.floor(t)),t},i.totalDays=function(e){var t=this.msecs/this.msecPerDay;return e===!0&&(t=Math.floor(t)),t},i.milliseconds=function(){return this.msecs%1e3},i.seconds=function(){return Math.floor(this.msecs/this.msecPerSecond)%60},i.minutes=function(){return Math.floor(this.msecs/this.msecPerMinute)%60},i.hours=function(){return Math.floor(this.msecs/this.msecPerHour)%24},i.days=function(){return Math.floor(this.msecs/this.msecPerDay)},i.toString=function(){var e=String("0"+this.hours()).slice(-2),t=String("0"+this.minutes()).slice(-2),i=String("0"+this.seconds()).slice(-2);return String(e+":"+t+":"+i)},i.getVersion=function(){return this.version},e.FromSeconds=function(t){return new e(0,t,0,0,0)},e.FromMinutes=function(t){return new e(0,0,t,0,0)},e.FromHours=function(t){return new e(0,0,0,t,0)},e.FromDays=function(t){return new e(0,0,0,0,t)},e.FromDates=function(t,i,n){var o=i.valueOf()-t.valueOf();return n===!0&&(o=Math.abs(o)),new e(o,0,0,0,0)},e}();e.TimeSpan=t,egret.registerClass(t,"Model.TimeSpan")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.padLeft=function(e,t,i){for(;e.length<i;)e=t+e;return e},t.GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?decodeURI(i[2]):null},t.getURLParam=function(e){var t="",i=!1,n=(document.location.href,document.location.search),o=new RegExp("\\?","g");if(n=String("?"+n.substring(1,n.length).replace(o,"&")),0==n.indexOf("?")&&n.indexOf("=")>1)for(var r=n.substring(1,n.length).split("&"),a=0;a<r.length&&!i;)r[a].indexOf("=")>0&&r[a].split("=")[0].toLowerCase()==e.toLowerCase()&&(t=r[a].split("=")[1],i=!0),a++;return t},t.createHash=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];for(var n=new e.HashMap,o=0;o<t.length;o+=2)n.Set(t[o],t[o+1]);return n},t.repeatedExecute=function(e,t){for(var i=0;t>i;i++)e()},t}();e.Tools=t,egret.registerClass(t,"Model.Tools")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(e,t,i,n){this.sAnimTime=600,this.mPointTime=100,this.goldWaitTime=1e3,this.obj=e,this.onCallBack=t,this.sPos=i,this.ePos=n,console.log("zhujun: sPos "+this.sPos)}var i=__define,n=t,o=n.prototype;return o.GoldProductionAnim=function(){var t,i=this;t.y=e.Mathf.random(this.sPos.x,this.sPos.x+50);var n=egret.Tween.get(this.obj);n.to({x:this.ePos.x},this.sAnimTime).wait(this.goldWaitTime).call(function(){i.GoldRecycleAnim()});var o=egret.Tween.get(this.obj);o.to({y:t.y},this.mPointTime).to({y:this.ePos.y},this.sAnimTime-this.mPointTime,egret.Ease.bounceOut)},o.GoldRecycleAnim=function(){egret.Tween.get(this).to({factor:1},300,egret.Ease.sineIn).call(function(){});egret.Tween.get(this.obj)},i(o,"factor",function(){return 0},function(e){this.obj.x=(1-e)*(1-e)*420+2*e*(1-e)*400+e*e*306,this.obj.y=(1-e)*(1-e)*700+2*e*(1-e)*580+e*e*551}),t}();e.TweenCustom=t,egret.registerClass(t,"Model.TweenCustom")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(e,t){this.x=e,this.y=t}var t=(__define,e);t.prototype;return e}();e.Vector2=t,egret.registerClass(t,"Model.Vector2")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.initDataEye=function(t,i){var n={appName:e.WebValue.appName,appId:"CF2AE1D27E276445E74E9440FF1C52B69",appVersion:e.WebValue.appVer,channel:i,uid:t,errorReport:!0};DCAgent.init(n)},t}();e.DataEyeService=t,egret.registerClass(t,"Model.DataEyeService")}(Model||(Model={}));var Model;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.Play68Model=t,egret.registerClass(t,"Model.Play68Model");var i=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.P68UserInfo=i,egret.registerClass(i,"Model.P68UserInfo")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.assignmentPlay68Model=function(){var i=["openid","pf","ts"];i.sort();var n=new e.HashMap;n.Set(i[0],e.Tools.getURLParam(i[0])),n.Set(i[1],e.Tools.getURLParam(i[1])),n.Set(i[2],e.Tools.getURLParam(i[2])),n.Set("sign",e.Tools.getURLParam("sign")),e.Play68Value.p68Model=n;var o=new e.MD5,r=o.hex_md5(String(n.Get(i[0])+n.Get(i[1])+n.Get(i[2])+t.play68key));return e.WebValue.accountM.id=e.Play68Value.p68Model.openid,e.WebValue.accountM.thirdAccountId=e.Play68Value.p68Model.openid,e.WebValue.accountM.platform=e.Play68Value.p68Model.pf,e.WebValue.accountM.time=e.Play68Value.p68Model.ts,e.WebValue.accountM.sign=e.Play68Value.p68Model.sign,e.Play68Value.p68Model.sign!=r?void alert("当前平台不合法，请勿充值!"):void 0},t.play68Url="http://www.play68.com/",t.play68key="b92ababa363be1e416db0ace8f16fe33",t}();e.Play68Service=t,egret.registerClass(t,"Model.Play68Service")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.p68Model=new e.Play68Model,t.p68UserInfo=new e.P68UserInfo,t}();e.Play68Value=t,egret.registerClass(t,"Model.Play68Value")}(Model||(Model={}));var Model;!function(e){var t=function(){function t(){}var i=(__define,t);i.prototype;return t.initSDK=function(t){"3"==e.Tools.getURLParam("channel")?(e.Play68Service.assignmentPlay68Model(),t(),e.DataEyeService.initDataEye(e.WebValue.accountM.id,"3")):alert("当前平台非法,请勿充值!")},t.initPay=function(t,i,n,o){"3"==e.Tools.getURLParam("channel")?payItem(t,i,n,1):alert("当前平台非法,请勿充值!")},t}();e.SDKService=t,egret.registerClass(t,"Model.SDKService")}(Model||(Model={}));var ThemeAdapter=function(){function e(){}var t=(__define,e),i=t.prototype;return i.getTheme=function(e,t,i,n){function o(e){t.call(n,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var ViewModel;!function(e){var t=function(e){function t(t){e.call(this),this.skinName="View.AchievementItem",this.onCallBack=t}__extends(t,e);var i=__define,n=t,o=n.prototype;return i(o,"setSModel",void 0,function(e){}),o.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.AchievementItemVM=t,egret.registerClass(t,"ViewModel.AchievementItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.AchievementView,this.uiLayer=t,this.onCallBack=i,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this),this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.AchievementVM=t,egret.registerClass(t,"ViewModel.AchievementVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.time=100,this.min=Math.floor(this.time/60),this.sec=this.time%60,this.skinName=View.BtnActiveSkillView,this.onCallBack=i,this.skillNum=t}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){var t=this;e.prototype.createChildren.call(this),this.min=this.min<10?"0"+this.min:this.min,this.sec=this.sec<10?"0"+this.sec:this.sec,this.counterCD.text=this.min+":"+this.sec,this.skillState.source="iconAtlas_json.active_skill_"+this.skillNum,this.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){if("enabled"===t.currentState){t.currentState="disabled",t.touchEnabled=!1;var e=new egret.Timer(t.time,1);e.addEventListener(egret.TimerEvent.TIMER,t.timerFunc,t),e.addEventListener(egret.TimerEvent.TIMER_COMPLETE,t.timerComFunc,t),e.start()}else"locked"===t.currentState&&(t.touchEnabled=!1)},this)},n.timerFunc=function(){Number(this.sec)?this.sec--:(this.min--,this.sec=59),this.min=this.min<10?"0"+this.min:this.min,this.sec=this.sec<10?"0"+this.sec:this.sec,this.counterCD.text=this.min+":"+this.sec},n.timerComFunc=function(){this.currentState="enabled",this.touchEnabled=!0},t}(eui.Button);e.BtnActiveSkillVM=t,egret.registerClass(t,"ViewModel.BtnActiveSkillVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t){e.call(this),this.btnWordSource="",this.btnWordSourceDown="",this.skinName="View.BtnBottomItem",this.onCallBack=t,this.setSkinPart("btnWordSource",this.btnWordSource),this.setSkinPart("btnWordSourceDown",this.btnWordSourceDown)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.btnWord.source=this.btnWordSource},n.getCurrentState=function(){return"down"==e.prototype.getCurrentState.call(this)?this.btnWord.source=this.btnWordSourceDown:this.btnWord.source=this.btnWordSource,e.prototype.getCurrentState.call(this)},t}(eui.Button);e.BtnBottomItemVM=t,egret.registerClass(t,"ViewModel.BtnBottomItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t){e.call(this),this.skinName=View.BtnBottomView,this.onCallBack=t}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){Model.Console.log("zhujun: btn bottom create children successed ! "),e.prototype.createChildren.call(this)},t}(eui.Component);e.BtnBottomVM=t,egret.registerClass(t,"ViewModel.BtnBottomVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.detailTextIn="",this.skinName=View.BtnMagicWeaponDetailItem}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.detailText.text=this.detailTextIn},t}(eui.Button);e.BtnMagicWeaponDetailVM=t,egret.registerClass(t,"ViewModel.BtnMagicWeaponDetailVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){var t=this;e.call(this),this.skinName=View.BtnMusicView,this.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){"up"===t.currentState?t.currentState="down":t.currentState="up"},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Button);e.BtnMusicVM=t,egret.registerClass(t,"ViewModel.BtnMusicVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.btnTextIn="",this.skinName=View.BtnRechargeView}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.btnText.text=this.btnTextIn},t}(eui.Button);e.BtnRechargeVM=t,egret.registerClass(t,"ViewModel.BtnRechargeVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.uiLayer=t,this.onCallBack=i,this.skinName=View.BtnRunItem}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.ToggleButton);e.BtnRunItemVM=t,egret.registerClass(t,"ViewModel.BtnRunItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.BtnShareItem}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},n.setPUnlock=function(e,t){this.costNum.text=Model.MainInfoLocalService.unitConversion(e),this.costIcon.source="icon_jinbi",this.costIcon.setMeasuredSize(20,20),this.valueLabel.text=String("+"+t),this.valueDesLabel.text="升级",this.btnBg.source="icon_button_on_zhujue"},n.setPLock=function(e,t){this.costNum.text=Model.MainInfoLocalService.unitConversion(e),this.costIcon.source="icon_jinbi",this.costIcon.setMeasuredSize(20,20),this.description.text=String("达到"+t+"级时解锁"),this.btnBg.source="icon_button_on_hui",this.currentState="disable"},t}(eui.Button);e.BtnShareVM=t,egret.registerClass(t,"ViewModel.BtnShareVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName="View.BtnSmallShareItem"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Button);e.BtnSmallShareVM=t,egret.registerClass(t,"ViewModel.BtnSmallShareVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t){e.call(this),this.btnIconSource="",this.skinName="View.BtnTopItem",this.onCallBack=t}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.btnIcon.source=this.btnIconSource},t}(eui.Button);e.BtnTopItemVM=t,egret.registerClass(t,"ViewModel.BtnTopItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t){e.call(this),this.skinName=View.BtnTopView,this.onCallBack=t}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.BtnTopVM=t,egret.registerClass(t,"ViewModel.BtnTopVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i,n){var o=this;if(e.call(this),this.skinName="View.CharDetailMsg",this.uiLayer=t,void 0!=i&&void 0==n){this.skillId.text="技能1",this.skillDetail.text="Lv.111           秒伤:5.6T",this.skillDes.text="巴拉巴拉巴拉巴拉拉玻璃杯啦啦啦巴拉巴拉巴比伦,哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩",this.skillIcon.source="iconAtlas_json.skill_01_5",this.zhujueSkillList.visible=!0;for(var r,a=0;a<this.zhujueSkillList.numElements;a++)r=this.zhujueSkillList.getChildAt(a),r.zhujueDetail.visible=!0,r.skillIcon.source="iconAtlas_json.active_skill_5",r.skillName.text="螺旋丸",r.skillResult.text="左手右手一个螺旋丸",r.skillDetail.text="持续时间：1000s|冷却时间1800s"}else if(void 0==i&&void 0!=n){this.skillId.text="技能1",this.skillDetail.text="Lv.111           秒伤:5.6T",this.skillDes.text="巴拉巴拉巴拉巴拉拉玻璃杯啦啦啦巴拉巴拉巴比伦,哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩哔哩",this.skillIcon.source="iconAtlas_json.skill_01_5",this.friendSkillList.visible=!0;for(var s,a=0;a<this.friendSkillList.numElements;a++)s=this.friendSkillList.getChildAt(a),s.friendDetail.visible=!0,s.skillIcon.source="iconAtlas_json.active_skill_6",s.skillLevel.text="第八重",s.skillEffect.text="一个螺旋丸打死一个白痴"}this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){o.uiLayer.removeChild(o)},this),this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.CharDetailMsgVM=t,egret.registerClass(t,"ViewModel.CharDetailMsgVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.friendItemData=t,egret.registerClass(t,"ViewModel.friendItemData");var i=function(e){function t(t,i){e.call(this),this.result=[],this.Damage=[],this.skinName=View.CharItem,this.uiGroup=t,this.onCallback=i,this.uiGroup.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.onCallback&&this.onCallback()},n.setPData=function(e){if(this.pData=e,e&&e.st&&e.dy){this.skillName.text=e.dy.name?e.dy.name:"新用户",this.skillLevel.text=e.dy.level.toString(),this.skillDes.text=String("点击伤害： "+Model.MainInfoLocalService.mainInfoData.getTapDps),this.skillIcon.source=e.st.leadHead;var t=e.UpgradeCost,i=Model.PlayerLocalService.deltaClickDamageBase(e.dy.level);this.levelBtn.setPUnlock(t,i)}else alert("数据错误，请重新加载 ! ")},n.setPSData=function(e){if(!e||!e.st)return void alert("数据错误，请重新加载 ! ");if(this.pSData=e,this.skillName.text=e.st.name,e&&e.st&&e.dy){this.skillLevel.text=e.dy.level.toString();var t=Model.PlayerSkillLocalService.skillEffect(e.st.skillEffectValue,e.st.skillEffectAdd,e.dy.level);this.skillDes.text=e.st.description.replace("{}",t.toString()),this.skillIcon.source=e.st.icon;var i=e.SkillCost,n=e.SkillEffectValue;this.levelBtn.setPUnlock(i,n)}else if(null==e.dy){this.skillLevel.text="0";var t=Model.PlayerSkillLocalService.skillEffect(e.st.skillEffectValue,e.st.skillEffectAdd,1);this.skillDes.text=e.st.description.replace("{}",t.toString()),this.skillIcon.source=e.st.icon;var i=e.SkillCost;this.levelBtn.setPLock(i,e.st.openLevel)}},n.setBFData=function(e){},n.btnOnceUp=function(){},n.btnTenUp=function(){Model.Tools.repeatedExecute(this.btnOnceUp,10)},n.btnHundredUp=function(){Model.Tools.repeatedExecute(this.btnOnceUp,100)},t}(eui.Component);e.CharItemVM=i,egret.registerClass(i,"ViewModel.CharItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.CharMsgItem}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.CharMsgItemVM=t,egret.registerClass(t,"ViewModel.CharMsgItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.btnImgSource="icon_guanbi",this.skinName=View.CloseBtn}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.btnImg.source=this.btnImgSource},t}(eui.Button);e.CloseBtnVM=t,egret.registerClass(t,"ViewModel.CloseBtnVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i,n){e.call(this),this.group=t,this.skinName=View.CutHpItem,this.x=300-this.width/2,this.y=450,this.group.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.setNoramlAttack=function(e){this.normalAttack.text=e,this.TweenAnimate()},n.setCriticalAttack=function(e){var t=this;this.criticalAttack.text=e,this.criticalAttack.textColor=16739328,egret.setTimeout(function(){t.TweenAnimate()},this,500)},n.createChildren=function(){e.prototype.createChildren.call(this)},n.TweenAnimate=function(){var e=this,t=egret.Tween.get(this);t.to({alpha:0,y:180},1e3).call(function(){e.group.removeChild(e)})},t}(eui.Component);e.CutHpItemVM=t,egret.registerClass(t,"ViewModel.CutHpItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t){e.call(this),this.skinName=View.DailyRechargeItem,this.onCallBack=t}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.DailyRechargeItemVM=t,egret.registerClass(t,"ViewModel.DailyRechargeItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.uiGroup=t,this.onCallBack=i}__extends(t,e);var i=(__define,t),n=i.prototype;return n.initParticle=function(e,t){var i=this,n=RES.getRes(t),o=RES.getRes(e);this.system=new particle.GravityParticleSystem(n,o),this.system.start(),this.system.addEventListener(egret.Event.LOOP_COMPLETE,function(){i.uiGroup.removeChild(i.system)},this),this.uiGroup.addChild(this.system)},t}(eui.Component);e.EffectParticleVM=t,egret.registerClass(t,"ViewModel.EffectParticleVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.onCallBack=null,this.uiGroup=t,this.onCallBack=i}__extends(t,e);var i=(__define,t),n=i.prototype;return n.initDragonBone=function(e,t,i,n){void 0===n&&(n=1);var o=new dragonBones.EgretFactory,r=RES.getRes(i),a=RES.getRes(e),s=RES.getRes(t);o.addSkeletonData(dragonBones.DataParser.parseDragonBonesData(r)),o.addTextureAtlas(new dragonBones.EgretTextureAtlas(s,a)),this.armatureName=r.armature[0].name,this.armature=o.buildArmature(this.armatureName);var l=this.armature.display;return l.x=300,l.y=450,this.uiGroup.addChild(l),this.armature.addEventListener(dragonBones.AnimationEvent.COMPLETE,this.onAnimationEvent,this),this.curAnimationName=this.armature.animation.animationList[0],this.animation=this.armature.animation,this.animation.gotoAndPlay(this.curAnimationName,0,-1,n),dragonBones.WorldClock.clock.add(this.armature),this.armature},n.onAnimationEvent=function(e){switch(this.onCallBack&&this.onCallBack(),e.type){case dragonBones.AnimationEvent.START:break;case dragonBones.AnimationEvent.LOOP_COMPLETE:Model.Console.log("zhujun: LOOP_COMPLETE ! ");break;case dragonBones.AnimationEvent.COMPLETE:Model.Console.log("zhujun: evt armature display "+this.armature.display),this.uiGroup.removeChild(e.armature.display),dragonBones.WorldClock.clock.remove(e.armature),e.armature.dispose(),Model.Console.log("zhujun: dragonBones.WorldClock.clock.remove ! ")}},t}(eui.Component);e.EffectSkillVM=t,egret.registerClass(t,"ViewModel.EffectSkillVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.FamilyItem}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){var t=this;e.prototype.createChildren.call(this),this.activeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.currentState="active",t.activeBtn.touchEnabled=!1},this)},t}(eui.Component);e.FamilyItemVM=t,egret.registerClass(t,"ViewModel.FamilyItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.FamilyView,this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),egret.Tween.get(this.mask_black_family).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon vm to ui layer !　"),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(n.mask_black_family).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(n.window).to({y:-850},700,egret.Ease.backIn),setTimeout(function(){n.uiLayer.removeChild(n)},700)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.FamilyVM=t,egret.registerClass(t,"ViewModel.FamilyVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this);var n=RES.getRes("tx_shengji_01_particle_png"),o=RES.getRes("tx_shengji_01_particle_json");this.system=new particle.GravityParticleSystem(n,o),this.system.start(),this.system.x=400,this.system.y=400;setInterval(function(){},2e3);var r=RES.getRes("texture_shengji_01_dragonBone_texiao"),a=RES.getRes("texture_shengji_01_dragonBone_json"),n=RES.getRes("texture_shengji_01_dragonBone_png"),s=new dragonBones.EgretFactory;s.addSkeletonData(dragonBones.DataParser.parseDragonBonesData(r)),s.addTextureAtlas(new dragonBones.EgretTextureAtlas(n,a));var l=r.armature[0].name,u=s.buildArmature(l),c=u.display;c.x=400,c.y=400,this.addChild(c);var d=u.animation.animationList[0],h=u.animation;h.gotoAndPlay(d,0,-1,0),dragonBones.WorldClock.clock.add(u),this.addChild(this.system),egret.Ticker.getInstance().register(function(e){dragonBones.WorldClock.clock.advanceTime(e/1e3)},this),this.uiLayer=t,this.onCallBack=i,this.skinName=View.FightSceneView,this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.FightSceneVM=t,egret.registerClass(t,"ViewModel.FightSceneVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName="View.GiftPacksView",this.uiLayer=t,this.onCallBack=i,this.buyBtn.btnTextIn="￥ 9",this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this),this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.GiftPacksVM=t,egret.registerClass(t,"ViewModel.GiftPacksVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.onCallBack=null,this.movieClip=null,this.uiGroup=t,this.onCallBack=i}__extends(t,e);var i=(__define,t),n=i.prototype;return n.initMovieClip=function(e,t,i,n){var o=this;void 0===n&&(n=-1);var r=new egret.MovieClipDataFactory(RES.getRes(e),RES.getRes(t));return this.movieClip=new egret.MovieClip(r.generateMovieClipData(i)),this.uiGroup.addChild(this.movieClip),this.movieClip.addEventListener(egret.Event.COMPLETE,function(e){o.onCallBack&&o.onCallBack(),Model.Console.log("zhujun: movie clip is "+o.movieClip),o.movieClip&&o.uiGroup.removeChild(o.movieClip),console.log("zhujun : mc play finish ! "+i)},this),this.movieClip.play(n),this.movieClip},n.changeMovieClip=function(e,t,i,n){if(void 0===n&&(n=-1),this.movieClip){this.movieClip.stop();var o=new egret.MovieClipDataFactory(RES.getRes(e),RES.getRes(t));return this.movieClip.movieClipData=o.generateMovieClipData(i),this.movieClip.play(n),this.movieClip}return Model.Console.log("zhujun: movie clip change failed !　"),this.movieClip},t}(eui.Component);
e.HeroItemVM=t,egret.registerClass(t,"ViewModel.HeroItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),this.skinName=View.KilledView,this.CloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.KilledViewVM=t,egret.registerClass(t,"ViewModel.KilledViewVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),this.skinName=View.LackGoldView,egret.Tween.get(this.mask_black).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon vm to ui layer !　"),this.LGCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(n.mask_black).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(n.window).to({y:-550},700,egret.Ease.backIn),setTimeout(function(){n.uiLayer.removeChild(n)},700)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.LackGoldVM=t,egret.registerClass(t,"ViewModel.LackGoldVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.skinName="View.LoadingBarItem",this.thumb=this.loadingBar,this.labelDisplay=this.loadingLabel,this.minimum=0,this.value=0,this.maximum=100},n.setProgress=function(e,t){this.value=Math.floor(e/t*100)},t}(eui.ProgressBar);e.LoadingBarItemVM=t,egret.registerClass(t,"ViewModel.LoadingBarItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.skinName="View.LogoView",this.onCallBack=i,this.uiLayer=t,this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),null!=this.onCallBack&&this.onCallBack()},t}(eui.Component);e.LogoVM=t,egret.registerClass(t,"ViewModel.LogoVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.MagicWeaponDetailView,this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),egret.Tween.get(this.mask_black_detail).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon detail vm to ui layer !　"),this.magicCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(n.mask_black_detail).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(n.window).to({y:-700},700,egret.Ease.backIn),setTimeout(function(){n.uiLayer.removeChild(n)},700)},this)}__extends(t,e);var i=(__define,t);i.prototype;return t}(eui.Component);e.MagicWeaponDetailVM=t,egret.registerClass(t,"ViewModel.MagicWeaponDetailVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i,n){var o=this;e.call(this),this.skinName=View.MagicWeaponView,this.uiLayer=t,this.onCallBack=n,this.magicWeapon.source="magic_weapon_"+i,this.uiLayer.addChild(this),egret.Tween.get(this.mask_black).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon vm to ui layer !　"),this.magicCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(o.mask_black).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(o.window).to({y:-550},700,egret.Ease.backIn),setTimeout(function(){o.uiLayer.removeChild(o)},700)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.MagicWeaponVM=t,egret.registerClass(t,"ViewModel.MagicWeaponVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){!function(e){e[e.Player=0]="Player",e[e.Opponent=1]="Opponent"}(e.Camp||(e.Camp={}));var t=(e.Camp,function(){function e(){}var t=(__define,e);t.prototype;return e}());egret.registerClass(t,"Dy");var i=function(){function e(){}var t=(__define,e);t.prototype;return e}();egret.registerClass(i,"St");var n=function(e){function t(){e.apply(this,arguments)}__extends(t,e);var i=(__define,t);i.prototype;return t}(i);egret.registerClass(n,"Data");var o=function(o){function r(e,t){o.call(this),this.enemy=null,this.skinName=View.MainGameView,this.uiLayer=e,this.onCallBack=t,this.uiLayer.addChild(this),Model.WebValue.isDebug&&console.log("cai_haotian fujiedian :"+this.uiLayer),Model.WebValue.isDebug&&console.log("cai_haotian2 fujiedian :"+this.uiLayer),Model.WebValue.isDebug&&console.log("zhujun: add main game vm to ui layer !　")}__extends(r,o);var a=(__define,r),s=a.prototype;return s.createChildren=function(){var e=this;o.prototype.createChildren.call(this),egret.Ticker.getInstance().register(function(e){dragonBones.WorldClock.clock.advanceTime(e/1e3)},this),this.initPlayer(),this.initFriend(),this.initEnemy(),console.log("createChildren"),this.clickBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.onClickBtn()},this),this.onDpsEvent()},s.onClickBtn=function(){var o=Model.Mathf.random(1e3,1e5),r=new e.CutHpItemVM(this);o>=8e4?(r.y=230,r.setCriticalAttack(""+o),r.x=480-r.width/2):(r.y=300,r.setNoramlAttack(""+o),r.x=480-r.width/2);var a=new t;a.level="99",a.id="11";var s=new i;s.id="11",s.name="技能",s.cost="10";var l=new n;l.name=s.name,l.name="朱骏",Model.Console.log("zhujun: test data id is "+l.id),Model.Console.log("zhujun: test st name is "+s.name),this.yungeGroup.numChildren>1&&(this.yungeGroup.removeChildAt(1),Model.Console.log("zhujun: force remove attack anim ! ")),this.initPlayerAttack()},s.onDpsEvent=function(){egret.setInterval(function(){},this,1e3)},s.initPlayer=function(){this.initPlayerIdle()},s.initPlayerIdle=function(){var t=new e.HeroItemVM(this.yungeGroup);t.initMovieClip("yunge_idle_json","yunge_idle_png","yunge_idle")},s.initPlayerAttack=function(){this.onAttackAnim(this.yungeGroup,["yunge_attack_json","yunge_attack_png","yunge_attack"]),this.onAttackEffect(this.yungeClickEffectGroup,["texture_yunge_json","texture_yunge_png","texture_yunge_texiao"])},s.initFriend=function(){this.initFriendIdle(),this.initFriendAttack()},s.initFriendIdle=function(){var t=new e.HeroItemVM(this.mengjueGroup);t.initMovieClip("mengjue_idle_json","mengjue_idle_png","mengjue_idle");var i=new e.HeroItemVM(this.liufulingGroup);i.initMovieClip("liufuling_idle_json","liufuling_idle_png","liufuling_idle");var n=new e.HeroItemVM(this.bingyiGroup);n.initMovieClip("bingyi_idle_json","bingyi_idle_png","bingyi_idle");var o=new e.HeroItemVM(this.xupingjunGroup);o.initMovieClip("xupingjun_idle_json","xupingjun_idle_png","xupingjun_idle");var r=new e.HeroItemVM(this.baiheGroup);r.initMovieClip("baihe_idle_json","baihe_idle_png","baihe_idle")},s.initFriendAttack=function(){var e=this;egret.setInterval(function(){e.onAttackAnim(e.mengjueGroup,["mengjue_attack_json","mengjue_attack_png","mengjue_attack"]),e.onAttackEffect(e.mengjueGroup,["texture_mengjue_json","texture_mengjue_png","texture_mengjue_texiao"])},this,Model.Mathf.random(3e3,5e3)),egret.setInterval(function(){e.onAttackAnim(e.liufulingGroup,["liufuling_attack_json","liufuling_attack_png","liufuling_attack"]),e.onAttackEffect(e.liufulingGroup,["texture_liufuling_json","texture_liufuling_png","texture_liufuling_texiao"])},this,Model.Mathf.random(3e3,5e3)),egret.setInterval(function(){e.onAttackAnim(e.bingyiGroup,["bingyi_attack_json","bingyi_attack_png","bingyi_attack"]),e.onAttackEffect(e.bingyiGroup,["texture_bingyi_json","texture_bingyi_png","texture_bingyi_texiao"])},this,Model.Mathf.random(3e3,5e3)),egret.setInterval(function(){e.onAttackAnim(e.xupingjunGroup,["xupingjun_attack_json","xupingjun_attack_png","xupingjun_attack"]),e.onAttackEffect(e.xupingjunGroup,["texture_xupingjun_json","texture_xupingjun_png","texture_xupingjun_texiao"])},this,Model.Mathf.random(3e3,5e3)),egret.setInterval(function(){e.onAttackAnim(e.baiheGroup,["baihe_attack_json","baihe_attack_png","baihe_attack"]),e.onAttackEffect(e.baiheGroup,["texture_baihe_json","texture_baihe_png","texture_baihe_texiao"])},this,Model.Mathf.random(3e3,5e3))},s.onAttackAnim=function(t,i){t.getChildAt(0).visible=!1;var n=new e.HeroItemVM(t,function(){t.getChildAt(0).visible=!0,Model.Console.log("zhujun: once movie clip call back successed ! ")});n.initMovieClip(i[0],i[1],i[2],1)},s.onAttackEffect=function(t,i){Model.Console.log("zhujun: on attack effect start !  ");var n=new e.EffectSkillVM(t,function(){Model.Console.log("zhujun: skill effect play finished ! ")});Model.Console.log("_data[0] "+i[0]+" _data[1] "+i[1]+" _data[2] "+i[2]),n.initDragonBone(i[0],i[1],i[2])},s.initEnemy=function(){var t=this,i=this.randomEnemyName();this.enemy=new e.HeroItemVM(this.enemyGroup),Model.Console.log("init randomEnemy[0] "+i[0]+" randomEnemy[1]  "+i[1]+" randomEnemy[2] "+i[2]),this.enemy.initMovieClip(i[0],i[1],i[2]),egret.setInterval(function(){t.changeEnemy()},this,Model.Mathf.random(3e3,5e3))},s.changeEnemy=function(){var e=this.randomEnemyName();Model.Console.log("change randomEnemy[0] "+e[0]+" randomEnemy[1]  "+e[1]+" randomEnemy[2] "+e[2]),this.enemy.changeMovieClip(e[0],e[1],e[2])},s.randomEnemyName=function(){var e=new Array,t=Model.Mathf.random(1,6);return e[0]=String("monster_00"+t+"_idle_json"),e[1]=String("monster_00"+t+"_idle_png"),e[2]=String("monster_00"+t+"_idle"),e},r}(eui.Component);e.MainGameVM=o,egret.registerClass(o,"ViewModel.MainGameVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.mData=null,this.skinName=View.MainInfoView,this.uiLayer=t,this.onCallBack=i}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},n.setMIData=function(e){this.mData=e,this.currentDps.text=e.getCurrentDps,this.tapDps.text=e.getTapDps,this.friendDps.text=e.getFriendDps},t}(eui.Component);e.MainInfoVM=t,egret.registerClass(t,"ViewModel.MainInfoVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){!function(e){e[e.MainMenu=0]="MainMenu",e[e.SceneList=1]="SceneList"}(e.PageName||(e.PageName={}));var t=(e.PageName,function(e){function t(t,i,n){e.call(this),this.addEventListener(eui.UIEvent.COMPLETE,this.onComplete,this),this.skinName=View.MainMenuView,this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),Model.WebValue.isDebug&&console.log("zhujun: add main menu vm to ui layer !　")}__extends(t,e);var i=(__define,t),n=i.prototype;return n.onComplete=function(){console.log("onComplete")},n.createChildren=function(){e.prototype.createChildren.call(this),console.log("createChildren"),this.initSceneInfo(),this.initMainInfo(),this.initMenuPopup(),this.initBtnTop(),this.initBtnBottom()},n.initSceneInfo=function(){this.sceneInfo.giftBag.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this)},n.initMainInfo=function(){this.mainInfo.setMIData(Model.MainInfoLocalService.mainInfoData)},n.initBtnTop=function(){this.btnTop.btnSetting.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this),this.btnTop.btnAchievement.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this),this.btnTop.btnFamily.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this),this.btnTop.btnRanking.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this),this.btnTop.btnActivity.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this)},n.initMenuPopup=function(){var e=this;this.menuPopupGroup.visible=!1,this.menuPopup.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.menuPopupGroup.visible=!1},this)},n.initBtnBottom=function(){var e=this;this.btnBottom.btnProtagonist.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.menuPopupGroup.visible=!0,e.menuPopup.setPData(Model.ProtagonistLocalService.protagonistData),Model.Console.log("zhujun: btn protagonist call back successed ! ")},this),this.btnBottom.btnBosomFriend.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.menuPopupGroup.visible=!0,e.menuPopup.setBFData(Model.LocalValue.bosomFriendData),Model.Console.log("zhujun: btn bosom friend call back successed ! ")},this),this.btnBottom.btnArtifact.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.menuPopupGroup.visible=!0,e.menuPopup.setAD(Model.LocalValue.artifactData),Model.Console.log("zhujun: btn artifact call back successed ! ")},this),this.btnBottom.btnMall.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){alert("此功能2016.1.8.之后开发!")},this)},t}(eui.Component));e.MainMenuVM=t,egret.registerClass(t,"ViewModel.MainMenuVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName="View.MallItem"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.MallItemVM=t,egret.registerClass(t,"ViewModel.MallItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(t){function i(e,i){t.call(this),this.pSItems=[],this.skinName=View.MenuPopup,this.uiLayer=i,this.onCallBack=e,i&&this.uiLayer.addChild(this),Model.WebValue.isDebug&&console.log("zhujun: add main popup vm to ui layer !　")}__extends(i,t);var n=(__define,i),o=n.prototype;return o.createChildren=function(){t.prototype.createChildren.call(this)},o.setPData=function(t){if(this.protagonistPopGroup.visible=!0,this.bosomFriendPopGroup.visible=!1,this.artifactPopGroup.visible=!1,this.clickDamageLabel.text=Model.MainInfoLocalService.mainInfoData.getTapDps,0==this.protagonistGroup.numChildren){this.pItem=new e.CharItemVM(this.protagonistGroup,function(){Model.Console.log("zhujun: main player create finish ! ")});for(var i=0;i<t.getSkillDataList.length;i++){var n=new e.CharItemVM(this.protagonistGroup,function(){Model.Console.log("zhujun: main player skill create finish ! ")});n.setPSData(t.getSkillDataList[i]),this.pSItems.push(n)}}else for(var i=0;i<t.getSkillDataList.length;i++)this.pSItems[i].setPSData(t.getSkillDataList[i]);this.pItem.setPData(t.getPlayerData)},o.setBFData=function(t){this.protagonistPopGroup.visible=!1,this.bosomFriendPopGroup.visible=!0,this.artifactPopGroup.visible=!1;Model.MainInfoLocalService.getFriendItemData(t);if(0==this.bosomFriendGroup.numChildren)for(var i=0;i<t.getPartnerStList.length;i++){new e.CharItemVM(this.bosomFriendGroup,function(){Model.Console.log("zhujun: friend and skill "+i+" add finish ! ")})}},o.setAD=function(e){this.protagonistPopGroup.visible=!1,this.bosomFriendPopGroup.visible=!1,this.artifactPopGroup.visible=!0},i}(eui.Component);e.MenuPopupVM=t,egret.registerClass(t,"ViewModel.MenuPopupVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.uiLayer=t,this.onCallBack=i,this.skinName=View.PartInRewardView,this.uiLayer.addChild(this),egret.Tween.get(this.mask_black_reward).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon vm to ui layer !　"),this.LGCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(n.mask_black_reward).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(n.window).to({y:-500},700,egret.Ease.backIn),setTimeout(function(){n.uiLayer.removeChild(n)},700)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.PartInRewardVM=t,egret.registerClass(t,"ViewModel.PartInRewardVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.SettingsView,this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),egret.Tween.get(this.mask_black_personalMsg).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon vm to ui layer !　"),this.LGCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(n.mask_black_personalMsg).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(n.window).to({y:-550},700,egret.Ease.backIn),setTimeout(function(){n.uiLayer.removeChild(n)},700)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.PersonalMsgVM=t,egret.registerClass(t,"ViewModel.PersonalMsgVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName="View.ProgressHp"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.ProgressBar);e.ProgressHp=t,egret.registerClass(t,"ViewModel.ProgressHp")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.ProgressMineView}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.ProgressBar);e.ProgressMineVM=t,egret.registerClass(t,"ViewModel.ProgressMineVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.RankListItem}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.RankListItemVM=t,egret.registerClass(t,"ViewModel.RankListItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.RankListView,this.uiLayer=t,this.onCallBack=i,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this),this.breakThroughBtn.detailTextIn="闯关",this.dpsBtn.detailTextIn="秒伤",this.accumulateBtn.detailTextIn="累积充值",this.breakThroughBtn.currentState="down",this.breakThrough.visible=!0,this.breakThroughBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.breakThroughBtn.currentState="down",n.dpsBtn.currentState="up",n.accumulateBtn.currentState="up",n.breakThrough.visible=!0,n.dps.visible=!1,n.accumulate.visible=!1},this),this.dpsBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.breakThroughBtn.currentState="up",n.dpsBtn.currentState="down",n.accumulateBtn.currentState="up",n.breakThrough.visible=!1,n.dps.visible=!0,n.accumulate.visible=!1},this),this.accumulateBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.breakThroughBtn.currentState="up",n.dpsBtn.currentState="up",n.accumulateBtn.currentState="down",n.breakThrough.visible=!1,n.dps.visible=!1,n.accumulate.visible=!0},this),this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.RankListVM=t,egret.registerClass(t,"ViewModel.RankListVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName="View.ReceiveRewardsView",this.uiLayer=t,this.onCallBack=i,this.commitBtn.btnTextIn="确定",this.uiLayer.addChild(this),this.commitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.ReceiveRewardsVM=t,egret.registerClass(t,"ViewModel.ReceiveRewardsVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){e.call(this),this.skinName=View.SceneInfoView,this.uiLayer=t}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this),this.bossHp.maximum=100,this.bossHp.minimum=0,this.bossHp.labelDisplay.visible=!1,this.bossHp.value=100},t}(eui.Component);e.SceneInfoVM=t,egret.registerClass(t,"ViewModel.SceneInfoVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i,n){var o=this;e.call(this),this.skinName=View.ScrollMsg,this.roundName.text=n,this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),egret.setTimeout(function(){o.uiLayer.removeChild(o)},this,1e3)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.ScrollMsgVM=t,egret.registerClass(t,"ViewModel.ScrollMsgVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.SettingsView,this.uiLayer=t,this.onCallBack=i,this.uiLayer.addChild(this),egret.Tween.get(this.mask_black_settings).to({alpha:.7},700,egret.Ease.circIn),egret.Tween.get(this.window).to({y:0},700,egret.Ease.backOut),Model.WebValue.isDebug&&console.log("fangchao: add magic weapon vm to ui layer !　"),this.LGCloseBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(n.mask_black_settings).to({alpha:0},700,egret.Ease.circIn),egret.Tween.get(n.window).to({y:-550},700,egret.Ease.backIn),setTimeout(function(){n.uiLayer.removeChild(n)},700)},this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.SettingsVM=t,egret.registerClass(t,"ViewModel.SettingsVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.TestView}__extends(t,e);var i=(__define,t);i.prototype;return t}(eui.Component);e.TestVM=t,egret.registerClass(t,"ViewModel.TestVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(){e.call(this),this.skinName=View.TotalRewardItem,this.currentState="enabled"}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){var t=this;e.prototype.createChildren.call(this),this.earnReward.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.currentState="complete"},this)},t}(eui.Component);e.TotalRewardItemVM=t,egret.registerClass(t,"ViewModel.TotalRewardItemVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t,i){var n=this;e.call(this),this.skinName=View.TotalRewardView,this.uiLayer=t,this.onCallBack=i,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){n.uiLayer.removeChild(n)},this),this.uiLayer.addChild(this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);e.TotalRewardVM=t,egret.registerClass(t,"ViewModel.TotalRewardVM")}(ViewModel||(ViewModel={}));var ViewModel;!function(e){var t=function(e){function t(t){var i=this;e.call(this),this.role=t;var n=RES.getRes("texture_"+this.role+"_json"),o=RES.getRes("texture_"+this.role+"_texiao"),r=RES.getRes("texture_"+this.role+"_png");this.factory=new dragonBones.EgretFactory,this.factory.addSkeletonData(dragonBones.DataParser.parseDragonBonesData(o)),this.factory.addTextureAtlas(new dragonBones.EgretTextureAtlas(r,n)),this.armatureName=o.armature[0].name,this.armature=this.factory.buildArmature(this.armatureName);var a=this.armature.display;a.x=400,a.y=300,this.addChild(a),this.curAnimationName=this.armature.animation.animationList[0];this.armature.animation.animationList[this.armature.animation.animationList.length-1];this.animation=this.armature.animation,this.animation.play(),this.armature.addEventListener(dragonBones.AnimationEvent.LOOP_COMPLETE,function(){i.animation.stop(),i.removeChild(a)},this),dragonBones.WorldClock.clock.add(this.armature),egret.Ticker.getInstance().register(function(e){dragonBones.WorldClock.clock.advanceTime(-1)},this)}__extends(t,e);var i=(__define,t);i.prototype;return t}(eui.Group);e.Tx_skillTemp=t,egret.registerClass(t,"ViewModel.Tx_skillTemp")}(ViewModel||(ViewModel={}));